<app-navbar></app-navbar>
<div class="main-container">
    <div class="page-title">
        <h1>Search Results</h1>
        <hr>
    </div>

    <div class="filters">
        <mat-chip-list #chipList>
            <mat-chip *ngFor="let item of filters; let i = index">
                {{filters[i]}}
                <button matChipRemove (click)="removeFilter(i)">
                    <mat-icon>cancel</mat-icon>
                </button>
            </mat-chip>

            <mat-chip class="clear-all-chips" *ngIf="filters.length >= 2">
                Clear All
                <button matChipRemove (click)="removeAllChips()">
                    <mat-icon>cancel</mat-icon>
                </button>
            </mat-chip>

        </mat-chip-list>
    </div>

    <div class="search-bar" fxLayout="row" fxLayoutAlign="space-between center">
        <form class="ingredient-search" [formGroup]="recipeSearchForm" fxFlex="85">

            <mat-form-field class="inputBox" appearance="outline">
                <mat-label> Search for a recipe... </mat-label>
                <input matInput placeholder="{{searchedWord}}" formControlName="recipe" [matAutocomplete]="auto">
                <mat-autocomplete #auto="matAutocomplete">
                    <!-- <mat-spinner></mat-spinner> -->
                    <mat-option *ngFor="let option of autocompleteRecipes" (click)="changeResults(option.id)">
                        <!-- (click)="navToRecipeIntructions(option.id)" -->
                        {{capitalizeFirstLetter(option.title)}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

        </form>

        <div class="filter-button" fxFlex="10">
            <button mat-stroked-button (click)="openDialog()">Filters</button>
        </div>
    </div>
    <div *ngIf="isLoading" class="skeleton-loader-wrapper">
        <div fxLayout="row" fxLayoutGap="16px" fxFlexFill>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
        </div>
        <div fxLayout="row" fxLayoutGap="16px" fxFlexFill>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
        </div>
        <div fxLayout="row" fxLayoutGap="16px" fxFlexFill>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
        </div>
        <div fxLayout="row" fxLayoutGap="16px" fxFlexFill>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
            <div fxFlex="25">
                <ngx-skeleton-loader [theme]="{ height: '150px', borderRadius: '10px' }"></ngx-skeleton-loader>
                <ngx-skeleton-loader [theme]="{ height: '30px', borderRadius: '10px' }"></ngx-skeleton-loader>
            </div>
        </div>
    </div>
    <div class="search-content">
        <div class="suggestions-wrapper" fxFlex="100" fxLayout="row wrap" fxLayoutAlign="space-between end">
            <div class="card" *ngFor="let recipe of filteredRecipes" (click)="navToRecipeIntructions(recipe.id)">
                <img src="{{recipe.image}}" />
                <div class="title" fxLayout="wrap">
                    {{recipe.title}}
                </div>
            </div>
        </div>
    </div>
</div>
<app-footer></app-footer>